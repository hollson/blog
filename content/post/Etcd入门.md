---
title:       "ETCD简介"
subtitle:    ""
description: "Etcd是CoreOS团队于2013年6月发起的开源项目，它的目标是构建一个高可用的分布式键值(key-value)数据库。etcd内部采用raft协议作为一致性算法，etcd基于Go语言实现。"
date:        2020-03-13
author:      "史宏生"
image:       "img/sample-hero-image.jpg"
tags:        ["分布式", "微服务"]
categories:  ["Tech","golang" ]
---


# 一. ETCD简介

[**Etcd**](https://etcd.io)是CoreOS团队于2013年6月发起的开源项目，它的目标是构建一个高可用的`分布式键值(key-value)数据库`。etcd内部采用`raft协议`作为一致性算法，etcd基于[Go语言实现](https://github.com/coreos/etcd/)。详细可查看[ETCD官方文档](https://etcd.io/docs/v3.4.0/)。



> A distributed, reliable key-value store for the most critical data of a distributed system



**ETCD的特点：** `交互简单`、`键值存储`、`数据监控`

- 支持SSL客户端证书认证

- 每秒1000秒的基准写入速度

- 支持TTL密钥过期功能

- 采用Raft算法实现分布式一致性；

<center class="half">
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMin" height="125" viewBox="0 0 147.403 88.458" enable-background="new 0 0 147.403 88.458"><polygon fill="#53a3d8" points="24.484,17.68 26.455,21.093 117.029,21.093 117.029,57.588 120.442,57.588 120.442,17.68"></polygon><polygon fill="#53a3d8" points="29.382,35.302 21.213,21.155 13.043,35.302"></polygon><polygon fill="#53a3d8" points="110.566,56.369 118.735,70.516 126.905,56.369"></polygon><polygon fill="#53a3d8" points="113.493,70.578 22.919,70.578 22.919,34.083 19.506,34.083 19.506,73.992 115.464,73.992"></polygon><rect x="80.368" y="4.817" fill="#f5f5f5" width="61.92" height="23.411"></rect><g><path d="M86.758 18.301c0-.74-.38-1.5-1.72-1.521v-1.4c1.34-.02 1.72-.78 1.72-1.5.0-1.26-.18-2.261-.18-3.641.0-2.101.78-2.761 2.44-2.761h1.101v1.28h-.48c-.94.0-1.2.38-1.2 1.58.0 1.12.101 2.241.101 3.441.0 1.42-.4 2.021-1.341 2.26v.08c.94.24 1.341.86 1.341 2.261.0 1.28-.101 2.301-.101 3.44.0 1.2.26 1.601 1.2 1.601h.48v1.261h-1.101c-1.66.0-2.44-.641-2.44-2.761C86.579 20.481 86.758 19.601 86.758 18.301z"></path><path d="M96.459 11.819h2.32v10.322c0 2.08-.801 3.621-3.121 3.621-.72.0-1.22-.12-1.601-.261l.44-1.72c.26.08.54.16.84.16.881.0 1.121-.62 1.121-1.761V11.819zM96.198 8.799c0-.78.62-1.32 1.421-1.32.82.0 1.44.54 1.44 1.32.0.76-.62 1.301-1.44 1.301C96.818 10.1 96.198 9.558 96.198 8.799z"></path><path d="M101.799 19.041c.88.68 1.72 1.101 2.72 1.101 1.061.0 1.561-.5 1.561-1.181.0-.82-1.06-1.18-2.101-1.58-1.3-.48-2.761-1.221-2.761-2.86.0-1.721 1.381-2.941 3.581-2.941 1.36.0 2.461.561 3.261 1.181l-1.061 1.4c-.68-.5-1.38-.84-2.16-.84-.98.0-1.44.46-1.44 1.08.0.76.98 1.08 2.041 1.46 1.34.5 2.82 1.141 2.82 2.98.0 1.681-1.34 3.041-3.821 3.041-1.34.0-2.76-.58-3.721-1.36L101.799 19.041z"></path><path d="M114.339 11.579c2.461.0 4.681 1.881 4.681 5.161.0 3.261-2.22 5.142-4.681 5.142-2.44.0-4.661-1.881-4.661-5.142C109.677 13.46 111.898 11.579 114.339 11.579zm0 8.422c1.44.0 2.32-1.3 2.32-3.261.0-1.98-.88-3.28-2.32-3.28s-2.301 1.3-2.301 3.28C112.038 18.701 112.898 20.001 114.339 20.001z"></path><path d="M121.298 11.819h1.9l.16 1.32h.08c.88-.86 1.88-1.561 3.221-1.561 2.101.0 3.021 1.421 3.021 3.901v6.161h-2.301V15.78c0-1.62-.46-2.221-1.54-2.221-.86.0-1.42.42-2.24 1.221v6.861h-2.301V11.819z"></path><path d="M136.357 23.422c.961.0 1.221-.4 1.221-1.601.0-1.14-.101-2.16-.101-3.44.0-1.4.4-2.021 1.341-2.261v-.08c-.94-.239-1.341-.84-1.341-2.26.0-1.2.101-2.321.101-3.441.0-1.2-.26-1.58-1.221-1.58h-.46v-1.28h1.08c1.681.0 2.461.66 2.461 2.761.0 1.38-.18 2.381-.18 3.641.0.72.38 1.48 1.72 1.5v1.4c-1.34.021-1.72.78-1.72 1.521.0 1.301.18 2.181.18 3.621.0 2.12-.78 2.761-2.461 2.761h-1.08v-1.261H136.357z"></path></g><rect x="2.787" y="62.087" fill="#f5f5f5" width="43.609" height="25.371"></rect><g><path d="M8.313 65.12h2.3v3.641l-.08 1.9c.82-.78 1.8-1.48 3.141-1.48 2.101.0 3.021 1.421 3.021 3.901v6.161h-2.301v-5.861c0-1.62-.46-2.221-1.54-2.221-.86.0-1.42.42-2.241 1.221v6.861h-2.3V65.12z"></path><path d="M19.813 71.241h-1.4v-1.72l1.521-.101.28-2.681h1.92v2.681h2.5v1.82h-2.5v4.682c0 1.16.44 1.72 1.38 1.72.34.0.74-.1 1.021-.22l.4 1.7c-.54.18-1.22.36-2 .36-2.28.0-3.121-1.44-3.121-3.561V71.241z"></path><path d="M27.033 71.241h-1.4v-1.72l1.521-.101.28-2.681h1.92v2.681h2.5v1.82h-2.5v4.682c0 1.16.44 1.72 1.38 1.72.34.0.74-.1 1.021-.22l.4 1.7c-.54.18-1.22.36-2 .36-2.28.0-3.121-1.44-3.121-3.561V71.241z"></path><path d="M36.213 80.042v3.081h-2.3V69.42h1.9l.16 1.04h.08c.82-.7 1.88-1.28 2.961-1.28 2.44.0 3.861 1.961 3.861 5.001.0 3.361-2.021 5.302-4.201 5.302-.86.0-1.72-.4-2.521-1.08L36.213 80.042zM38.194 77.582c1.3.0 2.3-1.16 2.3-3.381.0-1.961-.64-3.121-2.12-3.121-.72.0-1.4.36-2.161 1.101v4.581C36.933 77.362 37.613 77.582 38.194 77.582z"></path></g></svg>        
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMin" height="125" viewBox="0 0 170.13 111.688" enable-background="new 0 0 170.13 111.688"><g><path d="M21.634 31.354h-1.188l3.948-10.439h1.188L21.634 31.354z"></path><path d="M27.49 26.493c0-.487.09-.924.27-1.308s.422-.708.726-.972c.304-.265.66-.466 1.068-.606s.836-.21 1.284-.21c.48.0.902.08 1.266.24.364.16.67.356.918.588l-.66.864c-.232-.185-.466-.324-.702-.42-.236-.097-.486-.145-.75-.145-.592.0-1.072.179-1.44.534-.368.356-.552.834-.552 1.434.0.297.048.564.144.805.096.239.229.446.402.618.172.172.378.304.618.396.24.092.504.138.792.138.336.0.642-.063.918-.191.276-.128.53-.28.762-.456l.576.888c-.336.296-.712.519-1.128.666-.416.148-.836.222-1.26.222-.464.0-.894-.067-1.29-.203-.396-.137-.74-.337-1.032-.601s-.521-.588-.684-.972C27.572 27.418 27.49 26.982 27.49 26.493z"></path><path d="M34.45 26.493c0-.487.082-.924.246-1.308s.382-.708.654-.972c.272-.265.588-.466.948-.606s.732-.21 1.116-.21.756.07 1.116.21c.36.141.676.342.948.606.272.264.49.588.654.972s.246.82.246 1.308-.082.925-.246 1.309-.382.708-.654.972-.588.464-.948.601c-.36.136-.732.203-1.116.203s-.756-.067-1.116-.203c-.36-.137-.676-.337-.948-.601s-.49-.588-.654-.972S34.45 26.982 34.45 26.493zM35.878 26.493c0 .593.136 1.066.408 1.423.271.355.648.533 1.128.533s.856-.178 1.128-.533c.272-.356.408-.83.408-1.423.0-.6-.136-1.077-.408-1.434-.272-.355-.648-.534-1.128-.534s-.856.179-1.128.534C36.014 25.416 35.878 25.894 35.878 26.493z"></path><path d="M41.997 23.542h1.14l.108.888h.048c.28-.28.59-.522.93-.727.34-.203.738-.306 1.194-.306.68.0 1.18.206 1.5.618s.48 1.002.48 1.77v3.648h-1.392v-3.468c0-.48-.083-.83-.246-1.05-.164-.221-.45-.33-.858-.33-.288.0-.544.067-.768.204-.224.136-.472.344-.744.624v4.02h-1.392V23.542z"></path><path d="M54.91 22.161c-.216-.088-.426-.151-.63-.191s-.426-.061-.666-.061c-.456.0-.786.11-.99.33-.204.221-.306.538-.306.954v.349h2.244v1.092h-2.244v4.8H50.95v-4.8h-1.632v-1.032l1.632-.06v-.324c0-.344.048-.664.144-.96s.246-.55.45-.763c.204-.211.464-.378.78-.497.316-.12.69-.181 1.122-.181.32.0.626.028.918.084.292.057.57.137.834.24L54.91 22.161z"></path><path d="M56.421 23.542h3.936v5.892h-1.38v-4.8h-2.556V23.542zM59.565 22.51c-.28.0-.514-.084-.702-.252-.188-.168-.282-.393-.282-.672.0-.28.094-.506.282-.679.188-.172.422-.258.702-.258.288.0.524.086.708.258.184.173.276.398.276.679.0.279-.092.504-.276.672S59.853 22.51 59.565 22.51z"></path><path d="M63.357 30.466c0-.232.08-.456.24-.672.16-.217.392-.404.696-.564v-.048c-.16-.088-.3-.212-.42-.372-.12-.16-.18-.364-.18-.612.0-.199.064-.397.192-.594.128-.196.3-.37.516-.521v-.049c-.208-.144-.386-.344-.534-.6s-.222-.56-.222-.912c0-.336.066-.636.198-.899.132-.265.308-.486.528-.666.22-.181.476-.318.768-.414.292-.097.602-.145.93-.145.352.0.66.048.924.145h2.412v1.02h-1.38c.104.12.196.267.276.438s.12.361.12.569c0 .328-.06.616-.18.864s-.286.456-.498.624-.462.294-.75.378-.596.126-.924.126c-.296.0-.596-.052-.9-.156-.24.152-.36.332-.36.54.0.376.372.564 1.116.564h1.2c.768.0 1.346.112 1.734.336.388.224.582.592.582 1.104.0.288-.08.561-.24.816s-.386.478-.678.666-.648.336-1.068.444c-.42.107-.89.161-1.41.161-.408.0-.776-.031-1.104-.096-.328-.063-.61-.162-.846-.294-.236-.132-.418-.296-.546-.492S63.357 30.73 63.357 30.466zM64.509 30.285c0 .265.146.473.438.624.292.152.714.229 1.266.229.288.0.548-.026.78-.078s.432-.122.6-.21.296-.19.384-.306.132-.238.132-.366c0-.232-.1-.386-.3-.462s-.496-.114-.888-.114h-.936c-.192.0-.362-.006-.51-.018-.148-.013-.278-.038-.39-.078-.208.128-.356.256-.444.384S64.509 30.15 64.509 30.285zM66.069 26.697c.304.0.568-.102.792-.306s.336-.494.336-.87c0-.36-.112-.646-.336-.857-.224-.212-.488-.318-.792-.318s-.566.106-.786.318-.33.497-.33.857c0 .376.11.666.33.87S65.765 26.697 66.069 26.697z"></path><path d="M35.89 45.754h-.888l3.936-10.439h.888L35.89 45.754z"></path><path d="M41.734 40.93c0-.472.074-.897.222-1.277s.344-.702.588-.967c.244-.264.526-.468.846-.611.32-.145.652-.216.996-.216.36.0.676.067.948.203.272.137.544.32.816.553l-.036-1.08V35.29h.984v8.544h-.816l-.084-.768h-.036c-.24.248-.526.462-.858.642s-.678.27-1.038.27c-.384.0-.73-.067-1.038-.203-.308-.137-.574-.334-.798-.595-.224-.26-.396-.577-.516-.954C41.793 41.85 41.734 41.418 41.734 40.93zM42.754 40.918c0 .704.15 1.252.45 1.644.3.393.722.589 1.266.589.576.0 1.124-.292 1.644-.876V39.37c-.264-.248-.522-.424-.774-.528s-.506-.156-.762-.156-.494.055-.714.162c-.22.108-.412.261-.576.456-.164.196-.294.431-.39.702C42.802 40.278 42.754 40.582 42.754 40.918z"></path><path d="M49.186 42.322c0-.328.078-.614.234-.858s.404-.454.744-.63c.34-.176.778-.32 1.314-.432s1.18-.2 1.932-.265c-.008-.199-.04-.388-.096-.563-.056-.176-.144-.33-.264-.462s-.278-.238-.474-.318-.434-.12-.714-.12c-.384.0-.752.074-1.104.222s-.664.307-.936.475l-.384-.672c.144-.097.314-.194.51-.294.196-.101.404-.19.624-.271s.454-.146.702-.198.5-.077.756-.077c.8.0 1.394.218 1.782.653.388.437.582 1.019.582 1.746v3.576H53.59l-.084-.792H53.47c-.328.256-.69.476-1.086.66s-.802.275-1.218.275c-.272.0-.528-.038-.768-.113-.24-.076-.45-.185-.63-.324-.18-.14-.322-.312-.426-.516C49.238 42.82 49.186 42.586 49.186 42.322zM50.146 42.25c0 .168.036.311.108.426.072.116.166.212.282.288.116.076.252.132.408.168s.318.054.486.054c.336.0.666-.073.99-.222.324-.147.654-.361.99-.642v-1.536c-.624.048-1.146.116-1.566.204s-.756.193-1.008.317-.43.265-.534.42C50.198 41.884 50.146 42.058 50.146 42.25z"></path><path d="M57.886 38.806h-1.644v-.744l1.68-.06.132-1.632h.816v1.632h2.868v.804H58.87v2.772c0 .264.024.494.072.689.048.196.128.362.24.498.112.137.264.238.456.307.192.067.428.102.708.102s.532-.023.756-.072c.224-.048.44-.111.648-.191l.216.72c-.264.096-.556.179-.876.246-.32.068-.64.102-.96.102-.424.0-.78-.058-1.068-.174-.288-.115-.518-.279-.69-.492-.172-.211-.296-.466-.372-.762s-.114-.624-.114-.983V38.806z"></path><path d="M63.585 42.322c0-.328.078-.614.234-.858s.404-.454.744-.63.778-.32 1.314-.432 1.18-.2 1.932-.265c-.008-.199-.04-.388-.096-.563-.056-.176-.144-.33-.264-.462s-.278-.238-.474-.318-.434-.12-.714-.12c-.384.0-.752.074-1.104.222s-.664.307-.936.475l-.384-.672c.144-.097.314-.194.51-.294.196-.101.404-.19.624-.271s.454-.146.702-.198.5-.077.756-.077c.8.0 1.394.218 1.782.653.388.437.582 1.019.582 1.746v3.576h-.804l-.084-.792h-.036c-.328.256-.69.476-1.086.66s-.802.275-1.218.275c-.272.0-.528-.038-.768-.113-.24-.076-.45-.185-.63-.324-.18-.14-.322-.312-.426-.516C63.637 42.82 63.585 42.586 63.585 42.322zM64.545 42.25c0 .168.036.311.108.426.072.116.166.212.282.288.116.076.252.132.408.168s.318.054.486.054c.336.0.666-.073.99-.222.324-.147.654-.361.99-.642v-1.536c-.624.048-1.146.116-1.566.204s-.756.193-1.008.317-.43.265-.534.42C64.597 41.884 64.545 42.058 64.545 42.25z"></path><path d="M70.93 35.29h.984v2.328l-.024 1.128c.28-.272.594-.488.942-.648.348-.159.694-.239 1.038-.239.392.0.74.069 1.044.21.304.14.558.34.762.6s.358.572.462.936.156.771.156 1.219c0 .496-.072.939-.216 1.332-.144.392-.338.724-.582.996-.244.271-.526.478-.846.617-.32.141-.652.21-.996.21-.28.0-.582-.069-.906-.21-.324-.14-.626-.334-.906-.582h-.036l-.084.648H70.93V35.29zM71.913 42.466c.28.248.562.424.846.528s.53.156.738.156c.256.0.492-.055.708-.162.216-.108.404-.26.564-.456.16-.196.284-.438.372-.727.088-.288.132-.611.132-.972.0-.32-.032-.612-.096-.876s-.162-.49-.294-.678c-.132-.188-.302-.334-.51-.438s-.456-.156-.744-.156c-.256.0-.53.07-.822.21-.292.141-.59.362-.894.666V42.466z"></path><path d="M77.985 42.322c0-.328.078-.614.234-.858.156-.244.404-.454.744-.63s.778-.32 1.314-.432c.536-.112 1.18-.2 1.932-.265-.008-.199-.04-.388-.096-.563-.056-.176-.144-.33-.264-.462s-.278-.238-.474-.318-.434-.12-.714-.12c-.384.0-.752.074-1.104.222s-.664.307-.936.475l-.384-.672c.144-.097.314-.194.51-.294.196-.101.404-.19.624-.271s.454-.146.702-.198.5-.077.756-.077c.8.0 1.394.218 1.782.653.388.437.582 1.019.582 1.746v3.576h-.804l-.084-.792h-.036c-.328.256-.69.476-1.086.66s-.802.275-1.218.275c-.272.0-.528-.038-.768-.113-.24-.076-.45-.185-.63-.324-.18-.14-.322-.312-.426-.516C78.037 42.82 77.985 42.586 77.985 42.322zM78.945 42.25c0 .168.036.311.108.426.072.116.166.212.282.288.116.076.252.132.408.168s.318.054.486.054c.336.0.666-.073.99-.222.324-.147.654-.361.99-.642v-1.536c-.624.048-1.146.116-1.566.204s-.756.193-1.008.317-.43.265-.534.42C78.997 41.884 78.945 42.058 78.945 42.25z"></path><path d="M85.557 42.418c.328.24.68.432 1.056.576.376.144.828.216 1.355.216.528.0.92-.088 1.177-.264.256-.176.384-.393.384-.648.0-.224-.138-.424-.414-.6s-.771-.353-1.482-.528c-.304-.072-.59-.16-.857-.264-.269-.104-.502-.227-.702-.366s-.36-.294-.48-.462-.18-.356-.18-.564c0-.231.052-.449.156-.653s.258-.38.462-.528c.205-.148.46-.264.768-.348.309-.084.662-.126 1.062-.126.439.0.868.073 1.284.222.415.148.768.322 1.056.521l-.48.637c-.256-.185-.54-.332-.852-.444s-.648-.168-1.008-.168c-.272.0-.5.022-.685.066-.184.044-.332.104-.443.18-.112.076-.192.166-.24.27-.048.104-.072.213-.072.324.0.24.164.438.492.594s.756.303 1.284.438c.792.2 1.378.428 1.758.684.38.257.57.608.57 1.057.0.239-.057.464-.168.672-.112.208-.278.392-.498.552-.221.16-.492.286-.816.378s-.694.138-1.109.138c-.576.0-1.106-.09-1.591-.27-.484-.18-.906-.394-1.266-.642L85.557 42.418z"></path><path d="M92.241 40.93c0-.479.084-.909.252-1.29.168-.38.391-.702.666-.966.276-.264.592-.466.948-.605.355-.141.722-.21 1.098-.21.416.0.788.065 1.116.197s.606.318.834.559c.229.239.402.527.522.863.119.337.18.708.18 1.116.0.104-.002.206-.006.307-.004.1-.015.186-.03.258h-4.56c.008.312.069.592.186.84s.271.46.468.636.428.312.696.408c.268.096.562.144.882.144.344.0.658-.048.942-.144.283-.096.562-.228.834-.396l.348.648c-.288.185-.616.344-.983.48-.368.136-.788.203-1.261.203-.432.0-.838-.069-1.218-.21-.38-.14-.712-.34-.996-.6s-.508-.578-.672-.954S92.241 41.41 92.241 40.93zM96.945 40.45c0-.584-.152-1.032-.456-1.344-.304-.312-.728-.469-1.271-.469-.24.0-.471.04-.69.12s-.418.198-.594.354c-.177.155-.324.346-.444.569-.12.225-.2.48-.24.769H96.945z"></path><path d="M21.634 60.154h-1.188l3.948-10.44h1.188L21.634 60.154z"></path><path d="M33.309 50.961c-.216-.088-.426-.151-.63-.191s-.426-.061-.666-.061c-.456.0-.786.11-.99.33-.204.221-.306.538-.306.954v.349h2.244v1.092h-2.244v4.8H29.35v-4.8h-1.632v-1.032l1.632-.06v-.324c0-.344.048-.664.144-.96s.246-.55.45-.763c.204-.211.464-.378.78-.497.316-.12.69-.181 1.122-.181.32.0.626.028.918.084.292.057.57.137.834.24L33.309 50.961z"></path><path d="M34.558 55.293c0-.479.086-.911.258-1.296.172-.384.398-.71.678-.978.28-.269.602-.472.966-.612.364-.14.738-.21 1.122-.21.44.0.83.07 1.17.21.34.141.626.332.858.576s.408.538.528.882.18.72.18 1.128c0 .137-.006.265-.018.384-.012.12-.026.217-.042.288h-4.284c.048.528.256.934.624 1.219.368.283.82.426 1.356.426.304.0.588-.043.852-.127.264-.084.532-.201.804-.354l.468.863c-.32.201-.676.365-1.068.492-.392.129-.804.191-1.236.191-.448.0-.868-.068-1.26-.209-.392-.141-.732-.342-1.02-.605-.288-.264-.516-.586-.684-.967C34.642 56.216 34.558 55.781 34.558 55.293zM39.046 54.73c0-.456-.12-.814-.36-1.074s-.596-.39-1.068-.39c-.4.0-.756.124-1.068.372s-.508.611-.588 1.092H39.046z"></path><path d="M41.866 56.65c0-.328.076-.619.228-.871s.392-.466.72-.642.748-.32 1.26-.433c.512-.111 1.132-.191 1.86-.239-.024-.336-.144-.612-.36-.828s-.564-.324-1.044-.324c-.336.0-.666.062-.99.186-.324.124-.638.271-.942.438l-.504-.924c.36-.208.772-.396 1.236-.564s.948-.252 1.452-.252c.824.0 1.452.218 1.884.654s.648 1.066.648 1.89v3.493h-1.128l-.108-.732h-.036c-.312.24-.658.445-1.038.617-.38.172-.771.258-1.17.258-.288.0-.552-.041-.792-.125s-.448-.201-.624-.354c-.176-.152-.312-.334-.408-.547C41.913 57.14 41.866 56.906 41.866 56.65zM43.198 56.541c0 .266.102.457.306.576.204.121.454.182.75.182.295.0.582-.066.858-.199.276-.131.55-.307.822-.521V55.33c-.528.04-.968.095-1.32.162-.352.068-.632.154-.84.258-.208.104-.356.223-.444.354C43.242 56.236 43.198 56.382 43.198 56.541z"></path><path d="M50.494 53.434h-1.572v-1.032l1.632-.06.18-1.608h1.14v1.608h2.688v1.092h-2.688v2.424c0 .488.1.845.3 1.074.2.229.552.342 1.056.342.256.0.488-.021.696-.066.208-.043.408-.102.6-.174l.264 1.008c-.264.09-.556.168-.876.234-.32.068-.66.102-1.02.102-.448.0-.824-.059-1.128-.18-.304-.119-.55-.289-.738-.51-.188-.219-.324-.486-.408-.797-.084-.312-.126-.656-.126-1.033V53.434z"></path><path d="M61.594 58.234h-1.128l-.108-.936h-.048c-.28.328-.588.59-.924.785s-.724.293-1.164.293c-.688.0-1.188-.205-1.5-.617s-.468-1.002-.468-1.77v-3.648h1.38v3.468c0 .479.082.831.246 1.049.164.221.45.33.858.33.28.0.53-.064.75-.191.22-.129.462-.355.726-.684v-3.972h1.38V58.234z"></path><path d="M64.173 52.342h1.14l.12 1.332h.036c.304-.48.67-.847 1.098-1.099.428-.252.898-.378 1.41-.378.24.0.446.019.618.054.172.036.346.099.522.187l-.288 1.164c-.192-.064-.362-.11-.51-.138-.148-.028-.334-.042-.558-.042-.408.0-.8.115-1.176.348-.376.232-.716.636-1.02 1.212v3.252h-1.392V52.342z"></path><path d="M70.558 55.293c0-.479.086-.911.258-1.296.172-.384.398-.71.678-.978.28-.269.602-.472.966-.612.364-.14.738-.21 1.122-.21.44.0.83.07 1.17.21.34.141.626.332.858.576s.408.538.528.882.18.72.18 1.128c0 .137-.006.265-.018.384-.012.12-.026.217-.042.288h-4.284c.048.528.256.934.624 1.219.368.283.82.426 1.356.426.304.0.588-.043.852-.127.264-.084.532-.201.804-.354l.468.863c-.32.201-.676.365-1.068.492-.392.129-.804.191-1.236.191-.448.0-.868-.068-1.26-.209-.392-.141-.732-.342-1.02-.605-.288-.264-.516-.586-.684-.967C70.642 56.216 70.558 55.781 70.558 55.293zM75.045 54.73c0-.456-.12-.814-.36-1.074s-.596-.39-1.068-.39c-.4.0-.756.124-1.068.372s-.508.611-.588 1.092H75.045z"></path><path d="M77.949 53.77h5.328v1.008h-5.328V53.77z"></path><path d="M90.909 50.961c-.216-.088-.426-.151-.63-.191s-.426-.061-.666-.061c-.456.0-.786.11-.99.33-.204.221-.306.538-.306.954v.349h2.244v1.092h-2.244v4.8h-1.368v-4.8h-1.632v-1.032l1.632-.06v-.324c0-.344.048-.664.144-.96.097-.296.246-.55.45-.763.204-.211.464-.378.78-.497.315-.12.689-.181 1.122-.181.319.0.626.028.918.084.292.057.57.137.834.24L90.909 50.961z"></path><path d="M92.266 49.762h3.239v6.396c0 .4.101.682.301.846.199.164.451.246.756.246.288.0.624-.076 1.008-.229l.324 1.02c-.28.098-.542.178-.786.24-.244.064-.538.096-.882.096-.696.0-1.221-.199-1.572-.6-.353-.398-.528-.963-.528-1.691v-5.232h-1.859V49.762z"></path><path d="M99.465 56.65c0-.328.076-.619.229-.871.151-.252.392-.466.72-.642s.748-.32 1.26-.433c.512-.111 1.132-.191 1.86-.239-.024-.336-.145-.612-.36-.828s-.563-.324-1.044-.324c-.336.0-.666.062-.99.186-.323.124-.638.271-.941.438l-.504-.924c.359-.208.771-.396 1.235-.564s.948-.252 1.452-.252c.824.0 1.452.218 1.884.654.433.436.648 1.066.648 1.89v3.493h-1.128l-.108-.732h-.036c-.312.24-.657.445-1.037.617-.381.172-.771.258-1.171.258-.287.0-.552-.041-.792-.125-.239-.084-.447-.201-.624-.354-.176-.152-.312-.334-.407-.547C99.513 57.14 99.465 56.906 99.465 56.65zM100.797 56.541c0 .266.103.457.307.576.203.121.453.182.75.182.295.0.581-.066.857-.199.276-.131.55-.307.822-.521V55.33c-.528.04-.968.095-1.32.162-.352.068-.632.154-.84.258s-.356.223-.444.354C100.841 56.236 100.797 56.382 100.797 56.541z"></path><path d="M106.557 59.265c0-.232.08-.455.24-.672s.392-.404.696-.564v-.047c-.16-.088-.301-.213-.421-.373-.119-.16-.18-.363-.18-.611.0-.199.064-.398.192-.594.128-.197.3-.371.516-.522v-.049c-.208-.144-.386-.344-.534-.6-.147-.256-.222-.56-.222-.912.0-.336.066-.636.198-.899.132-.265.308-.486.527-.666.221-.181.477-.318.769-.414.292-.097.602-.145.93-.145.353.0.66.048.924.145h2.412v1.02h-1.38c.104.12.196.267.276.438s.12.361.12.569c0 .328-.061.616-.181.864s-.286.456-.498.624c-.212.167-.462.294-.75.378s-.596.125-.924.125c-.296.0-.596-.051-.899-.156-.24.152-.36.332-.36.541.0.375.372.564 1.116.564h1.2c.768.0 1.346.111 1.733.336.388.223.582.592.582 1.104.0.287-.08.561-.24.816s-.386.477-.678.666c-.292.188-.647.336-1.068.443-.42.107-.89.162-1.409.162-.408.0-.776-.031-1.104-.096s-.61-.162-.846-.295c-.236-.131-.418-.295-.546-.492C106.621 59.759 106.557 59.529 106.557 59.265zM107.709 59.086c0 .264.146.473.438.623.292.152.714.229 1.267.229.288.0.548-.025.779-.078.232-.051.433-.121.601-.209s.296-.191.384-.307.132-.238.132-.365c0-.232-.1-.387-.3-.463s-.496-.113-.888-.113h-.937c-.191.0-.362-.006-.51-.018-.148-.014-.278-.039-.39-.078-.209.127-.356.256-.444.383C107.753 58.818 107.709 58.949 107.709 59.086zM109.268 55.497c.304.0.568-.102.792-.306s.336-.494.336-.87c0-.36-.112-.646-.336-.857s-.488-.318-.792-.318-.565.106-.786.318c-.22.212-.33.497-.33.857.0.376.11.666.33.87C108.703 55.396 108.965 55.497 109.268 55.497z"></path><path d="M114.405 56.589c.336.232.686.414 1.05.547.364.131.773.197 1.229.197.464.0.805-.066 1.021-.197.216-.133.324-.303.324-.512.0-.207-.141-.381-.42-.521-.28-.139-.721-.29-1.32-.45-.28-.072-.552-.16-.816-.264-.264-.104-.496-.225-.695-.36-.2-.136-.36-.292-.48-.468s-.18-.376-.18-.601c0-.52.224-.943.672-1.271s1.092-.492 1.932-.492c.48.0.932.08 1.356.24.424.16.788.34 1.092.54l-.636.852c-.265-.176-.546-.317-.847-.426-.3-.108-.617-.162-.953-.162-.456.0-.776.062-.961.187-.184.124-.275.277-.275.462.0.104.042.197.126.282.084.084.2.159.348.228.148.068.322.134.522.198.199.063.42.124.66.18.344.088.653.187.93.294.276.108.512.23.708.366s.348.296.456.48c.107.184.162.396.162.637.0.256-.061.494-.181.713-.119.221-.296.412-.527.576-.232.164-.521.295-.864.391s-.74.143-1.188.143c-.553.0-1.08-.088-1.585-.264-.504-.176-.939-.391-1.308-.646L114.405 56.589z"></path><path d="M35.89 74.554h-.888l3.936-10.439h.888L35.89 74.554z"></path><path d="M41.625 66.802h.996l1.344 3.312c.12.295.234.586.342.869s.214.566.318.846h.048c.104-.279.206-.562.306-.846s.21-.574.33-.869l1.344-3.312h.948l-2.412 5.832h-1.104L41.625 66.802z"></path><path d="M49.042 69.73c0-.48.084-.91.252-1.291.168-.379.39-.701.666-.965s.592-.467.948-.605c.356-.141.722-.211 1.098-.211.416.0.788.066 1.116.197.328.133.606.318.834.559s.402.527.522.863c.12.338.18.709.18 1.117.0.104-.002.205-.006.307-.004.1-.014.186-.03.258h-4.56c.008.311.07.592.186.84s.271.459.468.635c.196.176.428.312.696.408s.562.145.882.145c.344.0.658-.049.942-.145.284-.096.562-.227.834-.396l.348.648c-.288.186-.616.344-.984.48-.368.137-.788.203-1.26.203-.432.0-.838-.068-1.218-.209-.38-.141-.712-.34-.996-.6-.284-.26-.508-.578-.672-.955C49.124 70.638 49.042 70.211 49.042 69.73zM53.746 69.25c0-.584-.152-1.031-.456-1.344-.304-.312-.728-.469-1.272-.469-.24.0-.47.041-.69.121s-.418.197-.594.354c-.176.156-.324.346-.444.57-.12.225-.2.48-.24.768H53.746z"></path><path d="M57.165 66.802h.816l.084 1.379h.036c.304-.471.678-.844 1.122-1.115s.938-.408 1.482-.408c.216.0.416.018.6.055.184.035.368.098.552.186l-.228.852c-.208-.072-.382-.123-.522-.156-.14-.031-.326-.047-.558-.047-.44.0-.862.125-1.266.377-.404.252-.782.682-1.134 1.291v3.42h-.984V66.802z"></path><path d="M63.729 64.089h.984v2.328l-.024 1.129c.28-.273.594-.488.942-.648s.694-.24 1.038-.24c.392.0.74.07 1.044.211.304.139.558.34.762.6.204.26.358.572.462.936.104.363.156.77.156 1.219.0.496-.072.939-.216 1.332-.144.391-.338.723-.582.996-.244.271-.526.477-.846.617s-.652.209-.996.209c-.28.0-.582-.068-.906-.209-.324-.141-.626-.334-.906-.582h-.036l-.084.648h-.792V64.089zM64.713 71.265c.28.248.562.424.846.529.284.104.53.156.738.156.256.0.492-.055.708-.162.216-.109.404-.26.564-.457.16-.195.284-.438.372-.727.088-.287.132-.611.132-.971.0-.32-.032-.613-.096-.877s-.162-.49-.294-.678c-.132-.188-.302-.334-.51-.438s-.456-.156-.744-.156c-.256.0-.53.07-.822.209-.292.141-.59.363-.894.666V71.265z"></path><path d="M70.534 69.73c0-.488.078-.922.234-1.303.156-.379.366-.701.63-.965s.57-.465.918-.602c.348-.135.714-.203 1.098-.203s.75.068 1.098.203c.348.137.654.338.918.602.264.264.474.586.63.965.156.381.234.814.234 1.303.0.48-.078.91-.234 1.289-.156.381-.366.701-.63.961s-.57.457-.918.594c-.348.137-.714.203-1.098.203s-.75-.066-1.098-.203-.654-.334-.918-.594-.474-.58-.63-.961C70.611 70.64 70.534 70.211 70.534 69.73zM71.554 69.73c0 .336.043.641.132.912.088.271.214.506.378.701.164.197.36.348.588.457.228.107.482.162.762.162s.534-.055.762-.162c.228-.109.424-.26.588-.457.164-.195.29-.43.378-.701.088-.271.132-.576.132-.912s-.044-.643-.132-.918c-.088-.275-.214-.514-.378-.715-.164-.199-.36-.354-.588-.461-.228-.109-.482-.162-.762-.162s-.534.053-.762.162c-.228.107-.424.262-.588.461-.164.201-.29.439-.378.715C71.597 69.088 71.554 69.394 71.554 69.73z"></path><path d="M78.357 71.218c.328.24.68.432 1.056.576.376.143.828.215 1.356.215.528.0.92-.088 1.176-.264s.384-.393.384-.648c0-.223-.138-.424-.414-.6-.276-.176-.77-.352-1.482-.527-.304-.072-.59-.16-.858-.264-.268-.105-.502-.227-.702-.367-.2-.139-.36-.293-.48-.461s-.18-.357-.18-.564c0-.232.052-.449.156-.654.104-.203.258-.379.462-.527s.46-.264.768-.348.662-.127 1.062-.127c.44.0.868.074 1.284.223.416.148.768.322 1.056.521l-.48.637c-.256-.186-.54-.332-.852-.445-.312-.111-.648-.168-1.008-.168-.272.0-.5.023-.684.066-.184.045-.332.104-.444.18-.112.076-.192.166-.24.27-.048.105-.072.213-.072.324.0.24.164.439.492.594.328.156.756.303 1.284.439.792.199 1.378.428 1.758.684s.57.607.57 1.057c0 .238-.056.463-.168.672-.112.207-.278.391-.498.551s-.492.287-.816.379-.694.137-1.11.137c-.576.0-1.106-.09-1.59-.27s-.906-.393-1.266-.641L78.357 71.218z"></path><path d="M85.041 69.73c0-.48.084-.91.252-1.291.168-.379.39-.701.666-.965.276-.264.592-.467.948-.605.355-.141.722-.211 1.098-.211.416.0.788.066 1.116.197.328.133.606.318.834.559.229.24.402.527.522.863.119.338.18.709.18 1.117.0.104-.002.205-.006.307-.004.1-.015.186-.03.258h-4.56c.008.311.069.592.186.84s.271.459.468.635.428.312.696.408.562.145.882.145c.344.0.658-.049.942-.145.283-.096.562-.227.834-.396l.348.648c-.288.186-.616.344-.983.48-.368.137-.788.203-1.261.203-.432.0-.838-.068-1.218-.209s-.712-.34-.996-.6-.508-.578-.672-.955C85.123 70.638 85.041 70.211 85.041 69.73zM89.745 69.25c0-.584-.152-1.031-.456-1.344s-.728-.469-1.271-.469c-.24.0-.471.041-.69.121s-.418.197-.594.354c-.177.156-.324.346-.444.57s-.2.48-.24.768H89.745z"></path><path d="M92.433 68.302h5.16v.744h-5.16V68.302z"></path><path d="M99.585 64.089h2.977v6.66c0 .432.102.742.306.93.204.189.481.283.834.283.319.0.688-.092 1.104-.277l.252.744c-.264.096-.512.18-.743.246-.232.068-.509.102-.828.102-.624.0-1.099-.176-1.422-.527-.324-.352-.486-.875-.486-1.572v-5.783h-1.992V64.089z"></path><path d="M106.533 69.73c0-.488.077-.922.233-1.303.156-.379.366-.701.63-.965.265-.264.57-.465.918-.602.349-.135.714-.203 1.099-.203.384.0.75.068 1.098.203.348.137.654.338.918.602s.474.586.63.965c.156.381.234.814.234 1.303.0.48-.078.91-.234 1.289-.156.381-.366.701-.63.961s-.57.457-.918.594-.714.203-1.098.203c-.385.0-.75-.066-1.099-.203-.348-.137-.653-.334-.918-.594-.264-.26-.474-.58-.63-.961C106.61 70.64 106.533 70.211 106.533 69.73zM107.553 69.73c0 .336.044.641.132.912s.214.506.378.701c.164.197.36.348.588.457.229.107.482.162.763.162.279.0.533-.055.762-.162.228-.109.424-.26.588-.457.164-.195.29-.43.378-.701s.132-.576.132-.912-.044-.643-.132-.918-.214-.514-.378-.715c-.164-.199-.36-.354-.588-.461-.229-.109-.482-.162-.762-.162s-.534.053-.763.162c-.228.107-.424.262-.588.461-.164.201-.29.439-.378.715S107.553 69.394 107.553 69.73z"></path><path d="M113.877 73.703c0-.232.082-.461.246-.686.164-.223.402-.428.714-.611v-.049c-.16-.088-.3-.207-.42-.359s-.18-.352-.18-.6c0-.184.06-.375.18-.57s.292-.369.516-.521v-.049c-.2-.152-.37-.354-.51-.605s-.21-.555-.21-.906c0-.32.062-.607.187-.863.123-.256.289-.475.497-.654s.45-.32.727-.42.57-.15.882-.15c.32.0.608.049.864.145h2.412v.756h-1.561c.136.145.26.32.372.527.112.209.168.439.168.697.0.311-.058.592-.174.84s-.276.457-.479.629c-.204.172-.444.305-.721.396-.275.092-.569.139-.882.139-.152.0-.314-.02-.486-.055-.172-.037-.338-.09-.498-.162-.304.191-.456.416-.456.672.0.232.106.402.318.51s.51.162.895.162h1.308c.752.0 1.31.104 1.674.312.364.207.546.561.546 1.057.0.271-.076.531-.228.779-.152.248-.368.463-.648.648-.28.184-.62.332-1.02.443-.4.111-.849.168-1.345.168-.855.0-1.518-.141-1.985-.42S113.877 74.222 113.877 73.703zM114.728 73.605c0 .305.162.553.486.744.324.193.798.289 1.422.289.336.0.641-.035.912-.102.272-.068.504-.158.696-.271.191-.111.338-.24.438-.383.101-.145.15-.293.15-.445.0-.279-.11-.467-.33-.562-.22-.098-.554-.145-1.002-.145h-1.14c-.168.0-.326-.006-.475-.018-.147-.012-.286-.039-.414-.078-.28.152-.474.309-.582.473C114.783 73.271 114.728 73.437 114.728 73.605zM116.505 70.127c.376.0.694-.125.954-.373s.39-.584.39-1.008c0-.199-.036-.385-.107-.553-.072-.168-.168-.311-.288-.432-.12-.119-.263-.213-.426-.281-.164-.068-.339-.102-.522-.102s-.358.033-.521.102c-.164.068-.307.162-.427.281-.12.121-.216.264-.288.432-.071.168-.107.354-.107.553.0.424.132.76.396 1.008C115.821 70.002 116.137 70.127 116.505 70.127z"></path><path d="M121.076 73.703c0-.232.082-.461.246-.686.164-.223.402-.428.715-.611v-.049c-.16-.088-.301-.207-.421-.359-.119-.152-.18-.352-.18-.6.0-.184.061-.375.18-.57.12-.195.292-.369.517-.521v-.049c-.2-.152-.37-.354-.51-.605-.141-.252-.21-.555-.21-.906.0-.32.062-.607.186-.863s.29-.475.498-.654.45-.32.726-.42c.276-.1.57-.15.883-.15.319.0.607.049.863.145h2.412v.756h-1.56c.136.145.26.32.372.527.111.209.168.439.168.697.0.311-.059.592-.174.84-.116.248-.276.457-.48.629s-.444.305-.72.396c-.276.092-.57.139-.882.139-.152.0-.314-.02-.486-.055-.172-.037-.338-.09-.498-.162-.304.191-.456.416-.456.672.0.232.105.402.318.51.212.107.51.162.894.162h1.308c.752.0 1.311.104 1.675.312.363.207.546.561.546 1.057.0.271-.076.531-.229.779-.151.248-.368.463-.647.648-.28.184-.62.332-1.021.443-.399.111-.848.168-1.344.168-.856.0-1.518-.141-1.986-.42C121.31 74.623 121.076 74.222 121.076 73.703zM121.929 73.605c0 .305.162.553.486.744.323.193.798.289 1.422.289.336.0.64-.035.912-.102.271-.068.504-.158.695-.271.192-.111.338-.24.438-.383.1-.145.149-.293.149-.445.0-.279-.109-.467-.329-.562-.221-.098-.555-.145-1.003-.145h-1.14c-.168.0-.326-.006-.474-.018-.148-.012-.286-.039-.414-.078-.28.152-.475.309-.582.473C121.982 73.271 121.929 73.437 121.929 73.605zM123.705 70.127c.376.0.693-.125.953-.373.261-.248.391-.584.391-1.008.0-.199-.036-.385-.108-.553s-.168-.311-.288-.432c-.12-.119-.262-.213-.426-.281s-.338-.102-.521-.102c-.185.0-.358.033-.522.102s-.306.162-.426.281c-.12.121-.216.264-.288.432s-.108.354-.108.553c0 .424.132.76.396 1.008C123.02 70.002 123.337 70.127 123.705 70.127z"></path><path d="M128.493 66.802h3.695v5.832h-.983v-5.029h-2.712V66.802zM131.589 65.601c-.232.0-.422-.066-.57-.203-.147-.137-.222-.32-.222-.553.0-.23.074-.418.222-.557.148-.141.338-.211.57-.211.224.0.412.07.564.211.151.139.228.326.228.557.0.232-.076.416-.228.553C132.001 65.535 131.812 65.601 131.589 65.601z"></path><path d="M135.728 66.802h.816l.084.996h.048c.304-.328.632-.6.983-.816.353-.217.757-.324 1.212-.324.696.0 1.206.197 1.53.594s.486.982.486 1.758v3.625h-.984v-3.492c0-.553-.104-.963-.312-1.23s-.552-.402-1.032-.402c-.176.0-.338.023-.486.066-.147.045-.294.109-.438.197-.145.09-.292.199-.444.33-.152.133-.312.287-.479.463v4.068h-.984V66.802z"></path><path d="M142.676 73.703c0-.232.082-.461.246-.686.164-.223.402-.428.715-.611v-.049c-.16-.088-.301-.207-.421-.359-.119-.152-.18-.352-.18-.6.0-.184.061-.375.18-.57.12-.195.292-.369.517-.521v-.049c-.2-.152-.37-.354-.51-.605-.141-.252-.21-.555-.21-.906.0-.32.062-.607.186-.863s.29-.475.498-.654.45-.32.726-.42c.276-.1.57-.15.883-.15.319.0.607.049.863.145h2.412v.756h-1.56c.136.145.26.32.372.527.111.209.168.439.168.697.0.311-.059.592-.174.84-.116.248-.276.457-.48.629s-.444.305-.72.396c-.276.092-.57.139-.882.139-.152.0-.314-.02-.486-.055-.172-.037-.338-.09-.498-.162-.304.191-.456.416-.456.672.0.232.105.402.318.51.212.107.51.162.894.162h1.308c.752.0 1.311.104 1.675.312.363.207.546.561.546 1.057.0.271-.076.531-.229.779-.151.248-.368.463-.647.648-.28.184-.62.332-1.021.443-.399.111-.848.168-1.344.168-.856.0-1.518-.141-1.986-.42C142.91 74.623 142.676 74.222 142.676 73.703zM143.528 73.605c0 .305.162.553.486.744.323.193.798.289 1.422.289.336.0.64-.035.912-.102.271-.068.504-.158.695-.271.192-.111.338-.24.438-.383.1-.145.149-.293.149-.445.0-.279-.109-.467-.329-.562-.221-.098-.555-.145-1.003-.145h-1.14c-.168.0-.326-.006-.474-.018s-.286-.039-.414-.078c-.28.152-.475.309-.582.473C143.582 73.271 143.528 73.437 143.528 73.605zM145.305 70.127c.376.0.693-.125.953-.373.261-.248.391-.584.391-1.008.0-.199-.036-.385-.108-.553s-.168-.311-.288-.432c-.12-.119-.262-.213-.426-.281s-.338-.102-.521-.102c-.185.0-.358.033-.522.102s-.306.162-.426.281c-.12.121-.216.264-.288.432s-.108.354-.108.553c0 .424.132.76.396 1.008C144.62 70.002 144.936 70.127 145.305 70.127z"></path><path d="M35.89 88.953h-.888l3.936-10.439h.888L35.89 88.953z"></path><path d="M42.766 81.201h.816l.084 1.381h.036c.304-.473.678-.844 1.122-1.117.444-.271.938-.406 1.482-.406.216.0.416.018.6.053.184.037.368.098.552.186l-.228.854c-.208-.072-.382-.125-.522-.156-.14-.033-.326-.049-.558-.049-.44.0-.862.127-1.266.379-.404.252-.782.682-1.134 1.289v3.42h-.984V81.201z"></path><path d="M49.042 84.129c0-.479.084-.908.252-1.289s.39-.703.666-.967.592-.465.948-.605.722-.209 1.098-.209c.416.0.788.064 1.116.197.328.131.606.318.834.559.228.238.402.527.522.863s.18.707.18 1.115c0 .105-.002.207-.006.307s-.014.186-.03.258h-4.56c.008.312.07.592.186.84s.271.461.468.637c.196.176.428.312.696.408s.562.143.882.143c.344.0.658-.047.942-.143s.562-.229.834-.396l.348.648c-.288.184-.616.344-.984.48-.368.135-.788.203-1.26.203-.432.0-.838-.07-1.218-.211-.38-.139-.712-.34-.996-.6-.284-.26-.508-.578-.672-.953C49.124 85.037 49.042 84.609 49.042 84.129zM53.746 83.65c0-.584-.152-1.033-.456-1.344-.304-.312-.728-.469-1.272-.469-.24.0-.47.039-.69.119s-.418.199-.594.355c-.176.154-.324.346-.444.568-.12.225-.2.48-.24.77H53.746z"></path><path d="M56.134 84.129c0-.471.074-.896.222-1.277.148-.379.344-.701.588-.967.244-.264.526-.467.846-.611s.652-.215.996-.215c.36.0.676.066.948.203s.544.32.816.553l-.036-1.08V78.49h.984v8.543h-.816l-.084-.768h-.036c-.24.248-.526.463-.858.643s-.678.27-1.038.27c-.384.0-.73-.068-1.038-.203-.308-.137-.574-.334-.798-.596-.224-.26-.396-.576-.516-.953S56.134 84.617 56.134 84.129zM57.154 84.117c0 .705.15 1.252.45 1.645.3.393.722.588 1.266.588.576.0 1.124-.291 1.644-.875V82.57c-.264-.248-.522-.424-.774-.529-.252-.104-.506-.156-.762-.156s-.494.055-.714.162c-.22.109-.412.262-.576.457s-.294.43-.39.701C57.202 83.478 57.154 83.781 57.154 84.117z"></path><path d="M63.441 84.129c0-.479.084-.908.252-1.289s.39-.703.666-.967.592-.465.948-.605.722-.209 1.098-.209c.416.0.788.064 1.116.197.328.131.606.318.834.559.228.238.402.527.522.863s.18.707.18 1.115c0 .105-.002.207-.006.307s-.014.186-.03.258h-4.56c.008.312.07.592.186.84.116.248.271.461.468.637.196.176.428.312.696.408s.562.143.882.143c.344.0.658-.047.942-.143.284-.096.562-.229.834-.396l.348.648c-.288.184-.616.344-.984.48-.368.135-.788.203-1.26.203-.432.0-.838-.07-1.218-.211-.38-.139-.712-.34-.996-.6-.284-.26-.508-.578-.672-.953C63.523 85.037 63.441 84.609 63.441 84.129zM68.145 83.65c0-.584-.152-1.033-.456-1.344-.304-.312-.728-.469-1.272-.469-.24.0-.47.039-.69.119s-.418.199-.594.355c-.176.154-.324.346-.444.568-.12.225-.2.48-.24.77H68.145z"></path><path d="M71.158 85.617c.328.24.68.432 1.056.576s.828.217 1.356.217c.528.0.92-.088 1.176-.264s.384-.393.384-.648c0-.225-.138-.424-.414-.6-.276-.176-.77-.354-1.482-.529-.304-.072-.59-.16-.858-.264s-.502-.227-.702-.365c-.2-.141-.36-.295-.48-.463s-.18-.355-.18-.564c0-.23.052-.449.156-.652.104-.205.258-.381.462-.529s.46-.264.768-.348.662-.125 1.062-.125c.44.0.868.072 1.284.221.416.148.768.322 1.056.521l-.48.637c-.256-.184-.54-.332-.852-.443-.312-.113-.648-.168-1.008-.168-.272.0-.5.021-.684.066-.184.043-.332.104-.444.18-.112.076-.192.166-.24.27s-.072.213-.072.324c0 .24.164.438.492.594.328.156.756.303 1.284.438.792.201 1.378.428 1.758.684.38.258.57.609.57 1.057.0.24-.056.465-.168.672-.112.209-.278.393-.498.553s-.492.285-.816.377-.694.139-1.11.139c-.576.0-1.106-.09-1.59-.27s-.906-.395-1.266-.643L71.158 85.617z"></path><path d="M78.093 81.201h3.696v5.832h-.984v-5.027h-2.712V81.201zM81.189 80.002c-.232.0-.422-.068-.57-.205-.148-.135-.222-.318-.222-.551s.074-.418.222-.559.338-.209.57-.209c.224.0.412.068.564.209.152.141.228.326.228.559s-.076.416-.228.551C81.601 79.933 81.413 80.002 81.189 80.002z"></path><path d="M85.077 88.101c0-.232.082-.461.246-.684.164-.225.402-.428.714-.611v-.049c-.16-.088-.3-.209-.42-.359-.12-.152-.18-.354-.18-.602.0-.184.06-.373.18-.568.12-.197.292-.371.516-.523v-.047c-.2-.152-.37-.355-.51-.607s-.21-.553-.21-.904c0-.32.062-.609.186-.865.124-.256.29-.473.498-.654.208-.18.45-.318.727-.42.276-.1.57-.148.882-.148.32.0.608.047.864.143h2.412v.756h-1.561c.136.145.26.32.372.529.112.207.168.439.168.695.0.312-.058.592-.174.84s-.276.459-.479.631c-.204.172-.444.303-.721.395-.275.094-.569.139-.882.139-.152.0-.314-.018-.486-.055-.172-.035-.338-.09-.498-.162-.304.193-.456.418-.456.674.0.23.106.4.318.51.212.107.51.162.895.162h1.308c.752.0 1.31.104 1.674.311.364.209.546.561.546 1.057.0.271-.076.531-.228.779-.152.248-.368.465-.648.648s-.62.332-1.02.443c-.4.113-.849.17-1.345.17-.855.0-1.518-.141-1.986-.422C85.311 89.021 85.077 88.621 85.077 88.101zM85.929 88.005c0 .305.162.553.486.744s.798.287 1.422.287c.336.0.641-.033.912-.102.272-.068.504-.158.696-.27.191-.113.338-.24.438-.385.101-.145.15-.291.15-.443.0-.281-.11-.469-.33-.564s-.554-.145-1.002-.145h-1.14c-.168.0-.326-.006-.475-.018-.147-.012-.286-.037-.414-.078-.28.152-.474.311-.582.475C85.983 87.671 85.929 87.838 85.929 88.005zM87.705 84.525c.376.0.694-.123.954-.371s.39-.584.39-1.008c0-.201-.036-.385-.107-.553-.072-.168-.168-.312-.288-.432-.12-.121-.263-.215-.426-.283-.164-.066-.339-.102-.522-.102s-.358.035-.521.102c-.164.068-.307.162-.427.283-.12.119-.216.264-.288.432-.071.168-.107.352-.107.553.0.424.132.76.396 1.008C87.021 84.402 87.337 84.525 87.705 84.525z"></path><path d="M92.529 81.201h.816l.084.996h.048c.304-.328.632-.6.983-.816.353-.215.757-.322 1.212-.322.696.0 1.206.197 1.53.594.324.395.486.982.486 1.758v3.623h-.984v-3.492c0-.551-.104-.961-.312-1.229-.208-.27-.552-.402-1.032-.402-.176.0-.338.021-.486.066-.147.043-.294.109-.438.197-.145.088-.292.197-.444.33-.152.131-.312.285-.479.461v4.068h-.984V81.201z"></path></g><polyline fill="none" stroke="#ccc" stroke-width=".5" stroke-miterlimit="10" points="24.187,32.879 24.187,40.589 32.194,40.589"></polyline><polyline fill="none" stroke="#ccc" stroke-width=".5" stroke-miterlimit="10" points="24.187,61.879 24.187,69.589 32.194,69.589"></polyline><polyline fill="none" stroke="#ccc" stroke-width=".5" stroke-miterlimit="10" points="24.187,69.879 24.187,83.589 32.194,83.589"></polyline><g><path fill="none" stroke="none" stroke-miterlimit="10" d="M161.706 96.274c0 2.97-2.43 5.4-5.4 5.4H13.995c-2.97.0-5.4-2.43-5.4-5.4V13.518c0-2.97 2.43-5.4 5.4-5.4h142.311c2.97.0 5.4 2.43 5.4 5.4V96.274z"></path></g></svg>               
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMin" height="125" viewBox="0 0 201.6 103.247" enable-background="new 0 0 201.6 103.247"><g><circle fill="#53a3d8" cx="90.874" cy="52.299" r="31.561"></circle><text transform="matrix(1 0 0 1 65.6749 54.8786)" fill="#fff" font-family="'SourceCodePro-Semibold'" font-size="12">/config</text><path fill="#8ac9ef" d="M90.875 10.736c-22.918.0-41.563 18.645-41.563 41.563s18.646 41.563 41.563 41.563 41.563-18.645 41.563-41.563S113.793 10.736 90.875 10.736zm0 81.83c-22.203.0-40.267-18.064-40.267-40.267s18.063-40.267 40.267-40.267 40.267 18.064 40.267 40.267S113.078 92.566 90.875 92.566z"></path><path fill="#8ac9ef" d="M158.925 52.299c0 18.108-7.123 34.573-18.696 46.778h2.988c11.121-12.431 17.9-28.825 17.9-46.778s-6.779-34.347-17.9-46.778h-2.988C151.803 17.726 158.925 34.191 158.925 52.299z"></path><g><path fill="#8ac9ef" d="M143.221 52.299c0 20.435-11.777 38.161-28.894 46.778h3.538c16.148-9.354 27.042-26.812 27.042-46.778s-10.894-37.424-27.042-46.778h-3.538C131.444 14.138 143.221 31.864 143.221 52.299z"></path><path fill="#8ac9ef" d="M38.528 52.299c0-20.435 11.777-38.161 28.894-46.778h-3.538c-16.148 9.354-27.042 26.812-27.042 46.778s10.894 37.424 27.042 46.778h3.538C50.305 90.459 38.528 72.734 38.528 52.299z"></path></g><circle fill="#f15e6b" cx="43.642" cy="27.971" r="5.38"></circle><circle fill="#f15e6b" cx="157.642" cy="70.033" r="5.38"></circle><text transform="matrix(1 0 0 1 166.5813 73.1955)" fill="#f15e6b" font-family="'SourceCodePro-Regular'" font-size="12">app2</text><text transform="matrix(1 0 0 1 6.2184 31.3405)" fill="#f15e6b" font-family="'SourceCodePro-Regular'" font-size="12">app1</text><g><path fill="#8ac9ef" d="M30.614 20.738c2.933-5.569 6.611-10.687 10.906-15.217h-2.988c-4.092 4.574-7.591 9.689-10.386 15.217H30.614z"></path><path fill="#8ac9ef" d="M24.781 36.1h-2.259c-1.234 5.202-1.89 10.625-1.89 16.199.0 17.953 6.778 34.347 17.9 46.778h2.988c-11.573-12.205-18.696-28.67-18.696-46.778C22.824 46.717 23.505 41.293 24.781 36.1z"></path></g></g></svg>
</center>


<BR>
<BR>

# 二. 单机安装
## **Linux安装Etcd**

_**Github官方链接：**_ https://github.com/etcd-io/etcd/releases

```shell
# 选择版本
$ ETCD_VER=v3.4.4

# 下载地址(任选其一)
#DOWNLOAD_URL=https://storage.googleapis.com/etcd
$ ETCD_URL=https://github.com/etcd-io/etcd/releases/download

# 解压安装
$ wget -L ${ETCD_URL}/${ETCD_VER}/etcd-${ETCD_VER}-linux-amd64.tar.gz
$ tar xzvf ./etcd-${ETCD_VER}-linux-amd64.tar.gz
$ mv ./etcd-${ETCD_VER}-linux-amd64 /usr/local/etcd

# 添加软链
$ ln -s /usr/local/etcd/etcd /usr/local/bin/etcd
$ ln -s /usr/local/etcd/etcdctl /usr/local/bin/etcdctl

# 查看版本
$ etcd --version
$ etcdctl version  #二级命令
```
_**以单机方式启动：**_

```shell
# 启动进程
$ nohup etcd --data-dir=/var/etcd-data/ >/var/etcd.log 2>&1 &
```

_**客户端测试：**_
```shell
$ etcdctl --endpoints=localhost:2379 put test "hello world"
$ etcdctl --endpoints=localhost:2379 get test
$ curl 0.0.0.0:2379/version
```

## **Docker安装Etcd**

_**Docker仓库：**_ [`gcr.io/etcd-development/etcd`](https://gcr.io/etcd-development/etcd) 或 [`quay.io/coreos/etcd`](https://quay.io/coreos/etcd) 仓库.

```shell
$ mkdir -p /var/etcd-data-docker
$ TOKEN=$(uuidgen)  #uuid作为token

# 单实例集群
$ docker run \
  --name etcd -p 2379:2379 -p 2380:2380 \
  --mount type=bind,source=/var/etcd-data-docker,destination=/etcd-data \
  quay.io/coreos/etcd:v3.4.4 /usr/local/bin/etcd \
  --name "etcd-01" \
  --data-dir /var/etcd-data \
  --listen-client-urls http://0.0.0.0:2379 \
  --advertise-client-urls http://0.0.0.0:2379 \
  --listen-peer-urls http://0.0.0.0:2380 \
  --initial-advertise-peer-urls http://0.0.0.0:2380 \
  --initial-cluster "etcd-01"=http://0.0.0.0:2380 \
  --initial-cluster-token ${TOKEN} \
  --initial-cluster-state new \
  --log-level info \
  --logger zap \
  --log-outputs stderr

$ docker exec etcd /bin/sh -c "etcd --version"
$ docker exec etcd /bin/sh -c "etcdctl version"
$ docker exec etcd /bin/sh -c "etcdctl endpoint health"
$ docker exec etcd /bin/sh -c "etcdctl put foo 'hello world'"
$ docker exec etcd /bin/sh -c "etcdctl get foo"
```



<br/>

# 三. ETCD配置

Etcd服务的参数包括`Member`、`Cluster`、`Security`、`Auth`、`Logging`、`Profiling`等模块。

```shell
$ etcd --help #查看帮助(不同版本的帮助文档有差异)
$ etcd --help| awk 'BEGIN {RS = "";ORS = "\n\n"} /Member/ {print $0}'  #Member配置
$ etcd --help| awk 'BEGIN {RS = "";ORS = "\n\n"} /Cluster/ {print $0}'  #Cluster配置
...
```



**Ymal文件配置**

```shell
[root@shs ~]# vim /etc/etcd.yml
```
```yml
name: "etcd-01"
data-dir: "/var/etcd-data"/
initial-cluster: "etcd-01=http://localhost:2380"
listen-client-urls: "http://localhost:2379"
advertise-client-urls: "http://localhost:2379"
initial-advertise-peer-urls: "http://localhost:2380"
listen-peer-urls: "http://localhost:2380"
```
```shell
# 启动服务，指定配置文件
$ nohup etcd --config-file /etc/etcd.yml >/var/etcd.log 2>&1 &

# 查看节点成员信息
$ etcdctl --endpoints=localhost:2379 member list -w table
```



<br/>



# 四. 搭建集群

## 1. 初始化集群

- Etcd遵循`先规划，再挂载`的原则，所以不管是初始化集群，还是新增节点，都必须先设定好集群列表。

_**先规初始化两个集群节点服务**_

```shell
# 集群列表,注意点：
#  1.只有在初始预设中的节点，接回包含在集群
#  2.初始化集群中的节点状态都为new
#  3.集群列表中的【名称】和【主机名】必须和启动的服务信息一致
$ CLUSTERS=etcd01=http://localhost:2380,etcd02=http://localhost:2480
```

```shell
# 将第一个节点挂载到集群中（端口：2379）
$ nohup etcd --name "etcd01" \
--listen-client-urls http://localhost:2379 \
--advertise-client-urls http://localhost:2379 \
--initial-advertise-peer-urls http://localhost:2380 \
--listen-peer-urls http://localhost:2380 \
--initial-cluster ${CLUSTERS} \
--initial-cluster-state new \
>./etcd01.log 2>&1 &
```

```shell
# 将第二个节点挂载到集群中（端口：2479）
$ nohup etcd --name "etcd02" \
--listen-client-urls http://localhost:2479 \
--advertise-client-urls http://localhost:2479 \
--initial-advertise-peer-urls http://localhost:2480 \
--listen-peer-urls http://localhost:2480 \
--initial-cluster ${CLUSTERS} \
--initial-cluster-state new \
>./etcd02.log 2>&1 &

```

_**查看服务结果**_

```shell
# 查询
$ export ETCDCTL_API=3

#终结点信息和集群列表信息一致(注意【格式】和【端口】不同)
$ ENDPOINTS=localhost:2379,localhost:2479 

# 查看节点成员信息
$ etcdctl --endpoints=$ENDPOINTS member list -w table

# 查看节点状态信息
$ etcdctl --endpoints=$ENDPOINTS endpoint status -w table
```

_查询结果：_

```shell
[root@shs ~]# etcdctl --endpoints=$ENDPOINTS member list -w table
+------------------+---------+--------+-----------------------+-----------------------+------------+
|        ID        | STATUS  |  NAME  |      PEER ADDRS       |     CLIENT ADDRS      | IS LEARNER |
+------------------+---------+--------+-----------------------+-----------------------+------------+
| b71f75320dc06a6c | started | etcd01 | http://localhost:2380 | http://localhost:2379 |      false |
| 11bff47b8baf3ee9 | started | etcd02 | http://localhost:2480 | http://localhost:2479 |      false |
+------------------+---------+--------+-----------------------+-----------------------+------------+

```

```shell
[root@shs ~]# etcdctl --endpoints=$ENDPOINTS endpoint status -w table
+----------------+------------+---------+---------+-----------+------------+-----------+------------+...
|   ENDPOINT     |     ID     | VERSION | DB SIZE | IS LEADER | IS LEARNER | RAFT TERM | RAFT INDEX |...
+----------------+------------+---------+---------+-----------+------------+-----------+------------+...
| localhost:2379 | b71f320... |   3.4.4 |   20 kB |      true |      false |        11 |          6 |...
| localhost:2479 | 11b47b8... |   3.4.4 |   20 kB |     false |      false |        11 |          6 |...
+----------------+------------+---------+---------+-----------+------------+-----------+------------+...
```



##2. 增加集群节点 

_**先添加集群成员**_

```shell
# 添加节点（节点名称与集群成员名称一致）
$ etcdctl --endpoints=$ENDPOINTS member add "etcd03" --peer-urls=http://localhost:2580

# 查看集群成员，注意【STATUS】字段
$ etcdctl --endpoints=$ENDPOINTS member list -w table
```

```txt
[root@vm02 etcd]# etcdctl --endpoints=$ENDPOINTS member list -w table
+------------------+-----------+--------+-----------------------+-----------------------+------------+
|        ID        |  STATUS   |  NAME  |      PEER ADDRS       |     CLIENT ADDRS      | IS LEARNER |
+------------------+-----------+--------+-----------------------+-----------------------+------------+
| 3949aab25068a95f | unstarted |        | http://localhost:2580 |                       |      false |
| 8e9e05c52164694d |   started | etcd01 | http://localhost:2380 | http://localhost:2379 |      false |
| f228da3d709012fc |   started | etcd02 | http://localhost:2480 | http://localhost:2479 |      false |
+------------------+-----------+--------+-----------------------+-----------------------+------------+
```

_**最后扩展集群列表，并启动服务**_

```shell
# 声明集群列表
$ CLUSTERS=etcd01=http://localhost:2380,etcd02=http://localhost:2480,etcd03=http://localhost:2580

# 至于集群状态变为【existing】
$ nohup etcd --name "etcd03" \
--listen-client-urls http://localhost:2579 \
--advertise-client-urls http://localhost:2579 \
--listen-peer-urls http://127.0.0.1:2580 \
--initial-advertise-peer-urls http://localhost:2580 \
--initial-cluster-state existing \
--initial-cluster ${CLUSTERS} \
--initial-cluster-token etcd-cluster-1 \
>./etcd03.log 2>&1 &
```
_**再次查看服务结果：**_

```shell
$ ENDPOINTS=localhost:2379,localhost:2479,localhost:2579
$ etcdctl --endpoints=$ENDPOINTS member list -w table
$ etcdctl --endpoints=$ENDPOINTS endpoint status -w table
```



##  3. 删除集群节点

```shell
# 试着删除leader节点，会发现leader转移到其他节点上
$ etcdctl --endpoints=$ENDPOINTS member remove 8e9e05c52164694d
```

> 温馨提示：删除服务的同时，请删除数据文件，否则再次创建服务的时候会加载旧的状态数据



#  五. Golang管理集群

```go
package main

import (
    "github.com/coreos/etcd/clientv3"
    "log"
    "fmt"
    "context"
    "time"
)
var (
    dialTimeout    = 5 * time.Second
    requestTimeout = 2 * time.Second
    endpoints      = []string{"127.0.0.1:2379"}
)
func main()  {

    cli, err := clientv3.New(clientv3.Config{
        Endpoints:   endpoints,
        DialTimeout: dialTimeout,
    })
    if err != nil {
        log.Fatal(err)
    }
    defer cli.Close()

    resp, err := cli.MemberList(context.Background())
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println("members:", resp.Members)


    //添加member
    //addMember(cli)


    // 删除节点
    //delMember(cli,uint64(7438291228984697304))

}

func addMember(cli *clientv3.Client)  {
    peerURLs := []string{"http://127.0.0.1:2180"}

    mresp, err := cli.MemberAdd(context.Background(), peerURLs)
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println("added member.PeerURLs:", mresp.Member.PeerURLs)
    resp, err := cli.MemberList(context.Background())
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println("添加后 members:", resp.Members)
}

// 删除节点
func delMember (cli *clientv3.Client, memberId uint64) {

    resp, err := cli.MemberList(context.Background())
    if err != nil {
        log.Fatal(err)
    }

    _, err = cli.MemberRemove(context.Background(), memberId)
    if err != nil {
        log.Fatal(err)
    }

    resp, err = cli.MemberList(context.Background())
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println("删除后 members:", resp.Members)
}
```


<br/>



> 参考：
> https://www.jianshu.com/p/2966b6ef5d10
>
> https://mritd.me/2016/09/01/Etcd-%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/
>
> https://blog.csdn.net/ShouTouDeXingFu/article/details/81167302
>
> https://blog.csdn.net/bbwangj/article/details/82584988
>
> https://www.liwenzhou.com/posts/Go/go_etcd/
>
> http://www.iigrowing.cn/etcd_shi_yong_ru_men.html
>
> https://www.jianshu.com/p/8e4bbe7e276c
>
> https://segmentfault.com/a/1190000014045625
>
> https://www.cnblogs.com/davygeek/p/7154780.html
>
> https://www.cnblogs.com/zhenghongxin/p/7029173.html
>
> https://blog.csdn.net/zhaominpro/article/details/82630528
>
> https://blog.csdn.net/weixin_34080571/article/details/93621638
>
> https://www.orchome.com/620
>
> https://www.cnblogs.com/linuxws/p/11194403.html  配置
>
> https://www.jianshu.com/p/71f4af1815d9